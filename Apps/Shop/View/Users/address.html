<layout name="user_layout"/>
<!--vipCenterContent start-->
<script type="text/javascript" charset="utf-8" src="__PUBLIC__/scripts/js/region.js"></script>
<script type="text/javascript" charset="utf-8" src="__PUBLIC__/statics/shop/js/WdatePicker.js"></script>
<script type="text/javascript">
    $(function () {
        //初始化表单
        AjaxInitForm('#addressForm', '#btnSubmit', 1);
    });
</script>
<div id="vipCenterContent" class="user-center">
    <div class="w1200">
        <div class="left-menu-list fl" id="leftMenu">
            <include file="Public/user_menu"/>
        </div>
        <div class="right-show fr">
            <div class="u-tab-head">
                <p>
                    <a class="selected">我的地址</a>
                </p>
                <span>
                   <a class="add" href="javascript:;" onclick="addAddress(this);">+ 新增地址</a>
                </span>
            </div>
            <div class="u-tab-content">
                <div class="title-div">
                    <strong>地址管理</strong>
                </div>
                <form url="{:U('Shop/Users/address')}" id="addressForm" name="addressForm">
                    <div class="address-box">
                        <dl>
                            <dd><span class="fl">这里是原来的地址噢！！！！</span><span class="fr"><a href="javascript:;" onclick="editAddress(this)" class="adit">编辑</a><a href="javascript:;" onclick="deleteAddress(this)" class="delete">删除</a></span></dd>
                        </dl>
                        <dl>
                            <dd><span class="fl">这里是原来的地址噢！！！！</span><span class="fr"><a href="javascript:;" onclick="editAddress(this)" class="adit">编辑</a><a href="javascript:;" onclick="deleteAddress(this)" class="delete">删除</a></span></dd>
                        </dl>
                    </div>
                </form>
            </div>
            <!--/修改资料-->
        </div>
    </div>
</div>
<!--end vipCenterContent-->
<div class="clear"></div>
<script type="text/javascript">
    /*新增地址*/
    function addAddress(){
        var d = dialog({
            title:'新增地址',
            width: 600,
            content:'<div class=\"edit-box\">' +
            '<input type=\"text\"/></div>',
            okValue:'确定',
            ok:function (){
                $(".address-box").prepend("<dl>"+
                    "<dd><span class=\"fl\">这是新增的地址</span><span class=\"fr\"><a href=\"javascript:;\" onclick=\"editAddress(this)\" class=\"edit\">编辑</a><a href=\"javascript:;\" onclick=\"deleteAddress(this)\" class=\"delete\">删除</a></span></dd>"+
                    "</dl>");
                /*后台新增*/

            }}).showModal();
    }
    /*地址删除*/
    function deleteAddress(Obj){
        var d = dialog({
            title:'删除地址',
            content:'您确定要删除该地址吗？',
            okValue:'确定',
            ok:function (){
                $(Obj).parent().parent().parent("dl").remove();
                /*后台删除*/
            },
            cancelValue: '取消',
            cancel: function () {

        }}).showModal();
    }
    /*地址编辑*/
    function editAddress(Obj){
        var d = dialog({
            title:'地址编辑',
            content:'<div class=\"edit-box\">'+
            '<input type=\"text\"/></div>',
            okValue:'确定',
            ok:function (){
                $(Obj).parent().parent().find("span.fl").html($(".edit-box input").val());
                /*后台编辑*/
            }}).showModal();
    }
</script>